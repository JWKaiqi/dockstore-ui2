<div *ngIf="toolExists">
  <div class="container">
    <h3>{{ title }}</h3>
    <p>
      Last build: {{ tool?.timeMessage || 'n/a' }}
    </p>
  </div>

  <div class="container">
    <app-tabs>
      <app-tab tabTitle="Info">
        <div class="container separation">
          <table id="format" class="table">
            <tbody>
            <tr>
              <th>Author</th>
              <td>{{ tool?.author || 'n/a' }}</td>
            </tr>
            <tr>
              <th>E-mail</th>
              <td>
                <a href="mailto:{{tool?.email}}">
                  {{ tool?.email || 'n/a' }}
                </a>
              </td>
            </tr>
            <tr>
              <th>GitHub</th>
              <td>
                <a [href]="tool?.providerUrl">
                  {{ tool?.providerUrl }}
                </a>
              </td>
            </tr>
            <tr>
              <th>Quay.io</th>
              <td>Fill Later</td>
            </tr>
            <tr>
              <th>Dockerfile Path</th>
              <td>{{ tool?.default_dockerfile_path }}</td>
            </tr>
            <tr>
              <th>CWL Path</th>
              <td>{{ tool?.default_cwl_path || 'n/a' }}</td>
            </tr>
            <tr>
              <th>WDL Path</th>
              <td>{{ tool?.default_wdl_path || 'n/a' }}</td>
            </tr>
            <tr>
              <th>Build Mode</th>
              <td>{{ tool?.buildMode }}</td>
            </tr>
            <tr>
              <th>Last Build</th>
              <td>{{ tool?.lastBuildDate }}</td>
            </tr>
            <tr>
              <th>Last Updated</th>
              <td>{{ tool?.lastUpdatedDate }}</td>
            </tr>
            </tbody>
          </table>
        </div>

        <div *ngIf="tool">
          Description
          <div class="well well-sm">
            <pre><markdown>{{ tool?.description || 'No description associated with this container. Please select a version.' }}</markdown></pre>
          </div>
          <div *ngIf="descriptorTypes">
          <span>
            Launch With
            <div class="pull-right">
              <select (change)="onVersionChange($event.target.value)">
                <option *ngFor="let tag of validTags" [selected]="tag.name == defaultTag.name">{{ tag.name }}</option>
              </select>
              <select (change)="onDescriptorChange($event.target.value)">
                <option *ngFor="let type of descriptorTypes">{{ type }}</option>
              </select>
            </div>
            <div class="well">
              <div class="well well-sm">
                Make a runtime JSON template and fill in desired inputs, outputs, and other parameters
                <pre>{{ launchParams }}</pre>
              </div>
              <div class="well well-sm">
                  Run locally with the Dockstore CLI
                  <pre>{{ launchCli }}</pre>
              </div>
              <div *ngIf="currentDescriptor === 'cwl'">
                <div class="well well-sm">
                <a href="https://github.com/common-workflow-language/cwltool">Run locally with cwltool</a>
                  <pre>{{ launchCwl }}</pre>
                </div>
                <div class="well well-sm">
                  <a href="https://github.com/Consonance/consonance/wiki">Run on AWS VMs with Consonance</a>
                    <pre>{{ launchConsonance }}</pre>
                </div>
              </div>
            </div>
          </span>
          </div>
        </div>
      </app-tab>
      <app-tab tabTitle="Versions">
        <div class="container separation">
          <app-versions *ngIf="tool?.tags" [tags]="tool?.tags"></app-versions>
        </div>
      </app-tab>
      <app-tab tabTitle="Files">
        <div class="container separation">
          Files
        </div>
      </app-tab>
    </app-tabs>
  </div>
</div>

<div *ngIf="!toolExists">
  <div class="alert alert-danger container separation">
    Tool at tool path {{ title }} does not exist
  </div>
</div>



